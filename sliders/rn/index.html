<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>React Native</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="../templates/revealjs/css/reveal.css">
		<link rel="stylesheet" href="../templates/revealjs/css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="../templates/revealjs/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../templates/revealjs/css/print/pdf.css' : '../templates/revealjs/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
			<div class="slides"><section  data-markdown><script type="text/template"># React Native 
</script></section><section ><section data-markdown><script type="text/template">
## RN 是什么

A framework for building native apps with React.
</script></section><section data-markdown><script type="text/template">
### Native

- 性能最好,功能强大

- 多平台版本的开发、维护

- 开发周期长

- 升级困难
</script></section><section data-markdown><script type="text/template">
### Web App

- 跨平台

- 开发效率高

- 性能不好
</script></section><section data-markdown><script type="text/template">
### RN

- 性能媲美原生应用

- 开发效率高

- 跨平台

- 热更新
</script></section></section><section  data-markdown><script type="text/template">
## 

- 通信机制

- 线程模型

- 事件驱动
 
- 渲染原理 

- 框架对比
</script></section><section ><section data-markdown><script type="text/template">
## 通信机制

![](../assets/images/rn/bridge.png)
</script></section><section data-markdown><script type="text/template">
### JSC

- JavaScriptCore

- C++实现

- Apple维护

- iOS 自带
</script></section><section data-markdown><script type="text/template">
### Why not V8

- Android 版本兼容问题

- 分开实现维护问题

</script></section><section data-markdown><script type="text/template">
### Js引擎

- 浏览器内核(Trident,Webkit,blink)

- Js 引擎(Chakra,JavaScriptCore,V8)
</script></section><section data-markdown><script type="text/template">
### 基本流程 

![](../assets/images/rn/base.png)
</script></section></section><section ><section data-markdown><script type="text/template">
## 线程模型

![](../assets/images/rn/event.png)
</script></section><section data-markdown><script type="text/template">
### Js 单线程模型

- Javascript 是单线程的，但浏览器是多线程的

- Js线程，GUI渲染引擎线程，HTTP 网络线程，事件轮询线程...

- 同步任务，异步任务

- 宏任务队列,微任务队列

</script></section><section data-markdown><script type="text/template">
###

- 《Multithreaded toolkits: A failed dream?》

![](../assets/images/rn/top.png) ![](../assets/images/rn/down.png)
</script></section><section data-markdown><script type="text/template">
### 

UI线程：即Android中的主线程，负责绘制UI以及监听用户操作。

Native线程：负责执行C++代码，该线程主要负责Java与C++的通信。

JS线程：负责解释执行JS。
</script></section></section><section ><section data-markdown><script type="text/template">
## 事件驱动

![](../assets/images/rn/vsync1.png)
</script></section><section data-markdown><script type="text/template">
### 

![](../assets/images/rn/eventloop.png)
</script></section></section><section ><section data-markdown><script type="text/template">
## 渲染原理
</script></section><section data-markdown><script type="text/template">
### Yoga

![](../assets/images/rn/yoga.png)
</script></section><section data-markdown><script type="text/template">
### 

![](../assets/images/rn/render1.png)

</script></section></section><section ><section data-markdown><script type="text/template">
## 框架对比
</script></section><section data-markdown><script type="text/template">
### WEEX

- Bundle优化
- 三端统一
</script></section><section data-markdown><script type="text/template">
### Hybrid 

- Webview + Bridge

- Cordova,PhoneGap

![](../assets/images/rn/qrcode.png)
</script></section><section data-markdown><script type="text/template">
#### 包袱

- 布局逻辑的向前兼容

- 逻辑层和渲染层是互斥的
</script></section><section data-markdown><script type="text/template">
### 小程序

- Js执行与渲染分离
- 多 WebView
- Native View混合
</script></section><section data-markdown><script type="text/template">
### Flutter

- Dart

- Skia

</script></section><section data-markdown><script type="text/template">
### 类似框架

- JsBox Auto.Js(Rhino)

- iqiyi/LiteApp

- lynx-native
</script></section><section data-markdown><script type="text/template">
### Native 动态化

- alibaba/Tangram-Android

- Meituan-Dianping/Shield 

- alibaba/LuaViewSDK
</script></section></section><section  data-markdown><script type="text/template">
## RN展望

- Fabric

- JS引擎抽象化

- 实现同步操作和性能优化
</script></section><section  data-markdown><script type="text/template">
## 谢谢</script></section></div>
		</div>

		<script src="../templates/revealjs/lib/js/head.min.js"></script>
		<script src="../templates/revealjs/js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: '../templates/revealjs/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../templates/revealjs/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../templates/revealjs/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../templates/revealjs/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../templates/revealjs/plugin/zoom-js/zoom.js', async: true },
					{ src: '../templates/revealjs/plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
