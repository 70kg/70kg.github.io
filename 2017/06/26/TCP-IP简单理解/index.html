<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> TCP/IP简单理解 · 70kg</title><meta name="description" content="TCP/IP简单理解 - 70kg"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="70kg"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/book/" target="_self" class="nav-list-link">BOOKS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">TCP/IP简单理解</h1><div class="post-info">Jun 26, 2017</div><div class="post-content"><p>最近把《计算机网络》大致翻了一遍，主要是看了网络层往上的部分，包括网络层，运输层，应用层的一些协议和实现，还有一些网络安全，流媒体服务，无线网络等的介绍。对于应用开发，再往下的数据链路层和物理层也没太大的意义去研究。<a id="more"></a></p>
<h4 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h4><p>网络层向上提供无连接的，尽最大努力交付的数据报服务。<br>网络层负责端到端的。<br>网络层主要是围绕IP来进行的，与IP协议配套使用的包括ARP:地址解析协议,ICMP：网际控制报文协议，IGMP:网际组管理协议。<br>IP地址的编码方式主要有：分类的IP地址，子网划分(CIDR)，构成超网。<br>网络层通过ARP协议将IP转换为数据链路层使用的物理mac地址。<br>IP数据报的首部包括源地址，目的地址，总长度，生存时间等信息。<br>路由器选择协议主要有RIP和OSPF,前者是基于距离向量的选择协议，间隔具体时间和相邻路由器交换路由信息，信息包括当前路由表(最短距离)和下一跳地址。OSPF是分布式链路状态协议，只有链路状态改变才使用泛洪法发送与所有相邻路由器的链路状态信息，信息包括本路由器于哪些路由器相邻和连接的”代价”。</p>
<h4 id="运输层"><a href="#运输层" class="headerlink" title="运输层"></a>运输层</h4><p>运输层负责端口到端口的通信。<br>熟悉的TCP/UDP是运输层的重要协议。<br><strong>UDP</strong></p>
<ul>
<li>无连接</li>
<li>尽最大努力交付，不保证可靠交付</li>
<li>面向报文:应用层交给UDP多大的报文，保留边界发送，如果过长，IP层负责分片。</li>
<li>没有拥塞控制</li>
<li>支持一对多，多对一，一对一的交互通信</li>
<li>部首小(源端口，目的端口，长度，检验和)</li>
</ul>
<p><strong>TCP</strong></p>
<ul>
<li>面向连接(建立连接-通信-释放连接)</li>
<li>只能是点对点</li>
<li>提供可靠交付(无差错，不丢失，不重复，按序到达)</li>
<li>提供全双工通信</li>
<li>面向字节流</li>
</ul>
<p>为保证可靠传输，使用以下协议:</p>
<ul>
<li>停止等待协议(效率低)</li>
<li>连续ARQ和滑动窗口</li>
</ul>
<p>部首：</p>
<ul>
<li>源端口和目的端口</li>
<li>序号:面向字节流，每一个字节都按顺序编号</li>
<li>确认号：期望收到对方下一个报文段的第一个字节的序号</li>
<li>数据偏移：也就是首部长度</li>
<li>紧急URG：尽快发送</li>
<li>确认ACK</li>
<li>推送PSH</li>
<li>复位RST</li>
<li>同步SYN</li>
<li>终止FIN</li>
<li>窗口：接收方允许对方发送的数据量</li>
<li>校验和</li>
<li>紧急指针</li>
<li>选项<br>以字节为单位的滑动窗口，三个指针描述<br>拥塞控制：慢开始，拥塞避免，快重传。<br>TCP建立连接的三次握手，最后一次确认是为了防止已失效的连接建立请求。<br>释放连接的四次握手</li>
</ul>
<h4 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h4><p>面向应用进程<br>DNS域名解析：递归查询，迭代查询<br>FTP文件传输协议<br>TELNET远程终端协议<br>HTTP协议<br>SMTP简单邮件传送协议<br>等</p>
<h4 id="网络安全"><a href="#网络安全" class="headerlink" title="网络安全"></a>网络安全</h4><p>被动攻击和主动攻击</p>
<p>对称密钥<br>DES，IDEA<br>公钥密码<br>数字签名：报文鉴别，报文完整性，不可否认<br>SSL/TLS连接建立</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/06/28/部署阿里云/" class="prev">上一篇</a><a href="/2017/05/23/Tinker补丁构建走读/" class="next">下一篇</a></div><div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div><script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script><script>var cloudTieConfig = {
    url: document.location.href,
    sourceId: "2017/06/26/TCP-IP简单理解/",
    productKey: "f39e35695dd943529768f0f9c5440f14",
    target: "cloud-tie-wrapper"
};
var yunManualLoad = true;
Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);</script><div class="copyright"><p>© 2015 - 2017 <a href="http://yoursite.com">70kg</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-81769413-1",'auto');ga('send','pageview');</script></body></html>